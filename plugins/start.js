//══════════════════════════════════════════════════════════════════════════════════════════════════════//
//                                                                                                      //
//                                   // 𝗦𝗛𝗔𝗗𝗢𝗪  𝐁𝐎𝐓                                                 //
//                                                                                                      //
//                                         Ｖ：6.0                                                       //

//
//──────────────────────────────────────//──────────────────────────────────────
//

//░██████╗██╗░░██╗░█████╗░██████╗░░█████╗░░██╗░░░░░░░██╗
//██╔════╝██║░░██║██╔══██╗██╔══██╗██╔══██╗░██║░░██╗░░██║
//╚█████╗░███████║███████║██║░░██║██║░░██║░╚██╗████╗██╔╝
//░╚═══██╗██╔══██║██╔══██║██║░░██║██║░░██║░░████╔═████║░
//██████╔╝██║░░██║██║░░██║██████╔╝╚█████╔╝░░╚██╔╝░╚██╔╝░
//╚═════╝░╚═╝░░╚═╝╚═╝░░╚═╝╚═════╝░░╚════╝░░░░╚═╝░░░╚═╝░░

//███╗░░░███╗██████╗░
//████╗░████║██╔══██╗
//██╔████╔██║██║░░██║
//██║╚██╔╝██║██║░░██║
//██║░╚═╝░██║██████╔╝
//╚═╝░░░░░╚═╝╚═════╝░

//██╗░░░██╗███████╗██████╗░░██████╗██╗░█████╗░███╗░░██╗
//██║░░░██║██╔════╝██╔══██╗██╔════╝██║██╔══██╗████╗░██║
//╚██╗░██╔╝█████╗░░██████╔╝╚█████╗░██║██║░░██║██╔██╗██║
//░╚████╔╝░██╔══╝░░██╔══██╗░╚═══██╗██║██║░░██║██║╚████║
//░░╚██╔╝░░███████╗██║░░██║██████╔╝██║╚█████╔╝██║░╚███║
//░░░╚═╝░░░╚══════╝╚═╝░░╚═╝╚═════╝░╚═╝░╚════╝░╚═╝░░╚══╝

//░█████╗░██╗░░░██╗
//██╔═══╝░██║░░░██║
//██████╗░╚██╗░██╔╝
//██╔══██╗░╚████╔╝░
//╚█████╔╝░░╚██╔╝░░
//░╚════╝░░░░╚═╝░░░
//══════════════════════════════════════════════════════════════════════════════════════════════════════//
//*
//  * @project_name : SHADOW-MD
//  * @author : LAKSHAN DAMAYANTHA
//  * @description : SHADOW ,A Multi-functional whatsapp user bot.

const _0x278ced=_0x1fb3;function _0x2e89(){const _0x27ba49=['news','startnews','❌\x2024/7\x20SHADOW\x20-\x20MD\x20News\x20is\x20not\x20active\x20in\x20this\x20group..','775828uRDakL','2nvunqq','Error:\x20Esana\x20News\x20returned\x20invalid\x20data.','This\x20command\x20can\x20only\x20be\x20used\x20in\x20groups\x20!!','Failed\x20to\x20deactivate\x20the\x20news\x20service.','sendMessage','26098130iNNHCa','keys','36CnJveC','685601HrYkfj','🗞️\x20*','9082485pOEmhR','admin','results','title','Error\x20in\x20news\x20command:\x20','Error\x20fetching\x20Esana\x20News:\x20','@sl-code-lords/esana-news','BreakingNews','152shmIke','\x0a>\x20>\x20ᴘᴏᴡᴇʀᴅ\x20ʙʏ\x20ꜱʜᴀᴅᴏᴡ\x20ᴍᴅ\x20ɴᴇᴡꜱ.ʟᴋ➤','length','forEach','push','interval','Failed\x20to\x20activate\x20the\x20news\x20service.','user','stopnews','82293xYlsPa','message','🗞️\x2024/7\x20SHADOW\x20-\x20MD\x20News\x20Activated\x20Successful..','axios','../command','../config','getLatestNews','some','date','jid','error','content','8547728nBOvwD','🗞️\x2024/7\x20SHADOW\x20-\x20MD\x20News\x20Already\x20Activated..','🗞️','publishedAt','shift','sender','4109795PYVvnD','❌\x2024/7\x20SHADOW\x20-MD\x20News\x20Deactivated\x20NOW..'];_0x2e89=function(){return _0x27ba49;};return _0x2e89();}(function(_0x28aaa5,_0x435028){const _0x4a4c93=_0x1fb3,_0x40259f=_0x28aaa5();while(!![]){try{const _0xb858c1=parseInt(_0x4a4c93(0x1bb))/0x1*(parseInt(_0x4a4c93(0x1bc))/0x2)+parseInt(_0x4a4c93(0x1d7))/0x3*(parseInt(_0x4a4c93(0x1ce))/0x4)+parseInt(_0x4a4c93(0x1b6))/0x5+-parseInt(_0x4a4c93(0x1c3))/0x6*(-parseInt(_0x4a4c93(0x1c4))/0x7)+-parseInt(_0x4a4c93(0x1b0))/0x8+parseInt(_0x4a4c93(0x1c6))/0x9+-parseInt(_0x4a4c93(0x1c1))/0xa;if(_0xb858c1===_0x435028)break;else _0x40259f['push'](_0x40259f['shift']());}catch(_0x32cebc){_0x40259f['push'](_0x40259f['shift']());}}}(_0x2e89,0x88675));function _0x1fb3(_0x462443,_0x826e3f){const _0x2e8916=_0x2e89();return _0x1fb3=function(_0x1fb380,_0x4868e6){_0x1fb380=_0x1fb380-0x1af;let _0x4a479c=_0x2e8916[_0x1fb380];return _0x4a479c;},_0x1fb3(_0x462443,_0x826e3f);}const {cmd}=require(_0x278ced(0x1db)),Hiru=require('hirunews-scrap'),Esana=require(_0x278ced(0x1cc)),axios=require(_0x278ced(0x1da)),config=require(_0x278ced(0x1dc));let activeGroups={},lastNewsTitles={};async function getLatestNews(){const _0x4116a3=_0x278ced;let _0x22d49a=[];try{const _0x14dd0d=new Hiru(),_0x2ba2e3=await _0x14dd0d[_0x4116a3(0x1cd)]();_0x22d49a[_0x4116a3(0x1d2)]({'title':_0x2ba2e3['results'][_0x4116a3(0x1c9)],'content':_0x2ba2e3[_0x4116a3(0x1c8)][_0x4116a3(0x1b8)],'date':_0x2ba2e3['results'][_0x4116a3(0x1df)]});}catch(_0x115e94){console[_0x4116a3(0x1e1)]('Error\x20fetching\x20Hiru\x20News:\x20'+_0x115e94[_0x4116a3(0x1d8)]);}try{const _0x3c6efb=new Esana(),_0xaf2923=await _0x3c6efb[_0x4116a3(0x1dd)]();_0xaf2923&&_0xaf2923[_0x4116a3(0x1c9)]&&_0xaf2923['description']&&_0xaf2923[_0x4116a3(0x1b3)]?_0x22d49a[_0x4116a3(0x1d2)]({'title':_0xaf2923[_0x4116a3(0x1c9)],'content':_0xaf2923['description'],'date':_0xaf2923[_0x4116a3(0x1b3)]}):console[_0x4116a3(0x1e1)](_0x4116a3(0x1bd));}catch(_0x2b43d4){console[_0x4116a3(0x1e1)](_0x4116a3(0x1cb)+_0x2b43d4[_0x4116a3(0x1d8)]);}return _0x22d49a;}async function checkAndPostNews(_0xa3a529,_0x1d31fe){const _0x11efb0=_0x278ced,_0x291bb7=await getLatestNews();_0x291bb7[_0x11efb0(0x1d1)](async _0x55c545=>{const _0x4fbe73=_0x11efb0;!lastNewsTitles[_0x1d31fe]&&(lastNewsTitles[_0x1d31fe]=[]),!lastNewsTitles[_0x1d31fe]['includes'](_0x55c545[_0x4fbe73(0x1c9)])&&(await _0xa3a529[_0x4fbe73(0x1c0)](_0x1d31fe,{'text':_0x4fbe73(0x1c5)+_0x55c545['title']+'*\x0a'+_0x55c545[_0x4fbe73(0x1af)]+'\x0a'+_0x55c545[_0x4fbe73(0x1df)]+_0x4fbe73(0x1cf)}),lastNewsTitles[_0x1d31fe][_0x4fbe73(0x1d2)](_0x55c545[_0x4fbe73(0x1c9)]),lastNewsTitles[_0x1d31fe][_0x4fbe73(0x1d0)]>0x64&&lastNewsTitles[_0x1d31fe][_0x4fbe73(0x1b4)]());});}cmd({'pattern':_0x278ced(0x1b9),'desc':'Enable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','isGroup':!![],'react':_0x278ced(0x1b2),'filename':__filename},async(_0x2d85e9,_0xc54981,_0x109d62,{from:_0x30a85d,isGroup:_0x7756c3,participants:_0x3460e1})=>{const _0x1a6c92=_0x278ced;try{if(_0x7756c3){const _0x58be25=_0x3460e1['some'](_0x1ba024=>_0x1ba024['id']===_0xc54981[_0x1a6c92(0x1b5)]&&_0x1ba024[_0x1a6c92(0x1c7)]),_0x39e523=_0xc54981['sender']===_0x2d85e9[_0x1a6c92(0x1d5)][_0x1a6c92(0x1e0)];_0x58be25||_0x39e523?!activeGroups[_0x30a85d]?(activeGroups[_0x30a85d]=!![],await _0x2d85e9['sendMessage'](_0x30a85d,{'text':_0x1a6c92(0x1d9)}),!activeGroups[_0x1a6c92(0x1d3)]&&(activeGroups[_0x1a6c92(0x1d3)]=setInterval(async()=>{const _0x2e8d6b=_0x1a6c92;for(const _0x35f9a3 in activeGroups){activeGroups[_0x35f9a3]&&_0x35f9a3!==_0x2e8d6b(0x1d3)&&await checkAndPostNews(_0x2d85e9,_0x35f9a3);}},0xea60))):await _0x2d85e9[_0x1a6c92(0x1c0)](_0x30a85d,{'text':_0x1a6c92(0x1b1)}):await _0x2d85e9['sendMessage'](_0x30a85d,{'text':'❌\x20ඔබ\x20shadow\x20md\x20bot\x20owner\x20කෙනෙකුවත්\x20grup\x20ඇඩ්මින්\x20වරයෙකුවත්\x20නොවේ\x20!!'});}else await _0x2d85e9[_0x1a6c92(0x1c0)](_0x30a85d,{'text':_0x1a6c92(0x1be)});}catch(_0x198b6c){console[_0x1a6c92(0x1e1)]('Error\x20in\x20news\x20command:\x20'+_0x198b6c[_0x1a6c92(0x1d8)]),await _0x2d85e9[_0x1a6c92(0x1c0)](_0x30a85d,{'text':_0x1a6c92(0x1d4)});}}),cmd({'pattern':_0x278ced(0x1d6),'desc':'Disable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','isGroup':!![],'react':'❌','filename':__filename},async(_0x4db9dd,_0x45572b,_0x3bd494,{from:_0x50c91d,isGroup:_0x695277,participants:_0x3c5c8b})=>{const _0x28c0a1=_0x278ced;try{if(_0x695277){const _0xc99fa5=_0x3c5c8b[_0x28c0a1(0x1de)](_0x22a7ba=>_0x22a7ba['id']===_0x45572b[_0x28c0a1(0x1b5)]&&_0x22a7ba[_0x28c0a1(0x1c7)]),_0x43ad4a=_0x45572b['sender']===_0x4db9dd[_0x28c0a1(0x1d5)][_0x28c0a1(0x1e0)];_0xc99fa5||_0x43ad4a?activeGroups[_0x50c91d]?(delete activeGroups[_0x50c91d],await _0x4db9dd[_0x28c0a1(0x1c0)](_0x50c91d,{'text':_0x28c0a1(0x1b7)}),Object[_0x28c0a1(0x1c2)](activeGroups)[_0x28c0a1(0x1d0)]===0x1&&activeGroups[_0x28c0a1(0x1d3)]&&(clearInterval(activeGroups[_0x28c0a1(0x1d3)]),delete activeGroups[_0x28c0a1(0x1d3)])):await _0x4db9dd[_0x28c0a1(0x1c0)](_0x50c91d,{'text':_0x28c0a1(0x1ba)}):await _0x4db9dd[_0x28c0a1(0x1c0)](_0x50c91d,{'text':'❌\x20ඔබ\x20shadow\x20md\x20bot\x20owner\x20කෙනෙකුවත්\x20grup\x20ඇඩ්මින්\x20වරයෙකුවත්\x20නොවේ\x20!!'});}else await _0x4db9dd[_0x28c0a1(0x1c0)](_0x50c91d,{'text':_0x28c0a1(0x1be)});}catch(_0x103c67){console[_0x28c0a1(0x1e1)](_0x28c0a1(0x1ca)+_0x103c67[_0x28c0a1(0x1d8)]),await _0x4db9dd[_0x28c0a1(0x1c0)](_0x50c91d,{'text':_0x28c0a1(0x1bf)});}});
